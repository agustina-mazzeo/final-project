{"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\api\\transactions\\transactions.controller.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\api\\transactions\\transactions.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":61}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":63}},"16":{"start":{"line":17,"column":8},"end":{"line":27,"column":11}},"17":{"start":{"line":17,"column":51},"end":{"line":27,"column":10}},"18":{"start":{"line":18,"column":12},"end":{"line":26,"column":13}},"19":{"start":{"line":19,"column":29},"end":{"line":19,"column":37}},"20":{"start":{"line":20,"column":36},"end":{"line":20,"column":45}},"21":{"start":{"line":21,"column":37},"end":{"line":21,"column":111}},"22":{"start":{"line":22,"column":16},"end":{"line":22,"column":61}},"23":{"start":{"line":25,"column":16},"end":{"line":25,"column":28}},"24":{"start":{"line":28,"column":8},"end":{"line":38,"column":11}},"25":{"start":{"line":28,"column":50},"end":{"line":38,"column":10}},"26":{"start":{"line":29,"column":12},"end":{"line":37,"column":13}},"27":{"start":{"line":30,"column":29},"end":{"line":30,"column":37}},"28":{"start":{"line":31,"column":36},"end":{"line":31,"column":44}},"29":{"start":{"line":32,"column":36},"end":{"line":32,"column":121}},"30":{"start":{"line":33,"column":16},"end":{"line":33,"column":60}},"31":{"start":{"line":36,"column":16},"end":{"line":36,"column":28}},"32":{"start":{"line":41,"column":0},"end":{"line":41,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":65},"end":{"line":39,"column":5}},"line":14},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":31},"end":{"line":17,"column":32}},"loc":{"start":{"line":17,"column":51},"end":{"line":27,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":83},"end":{"line":17,"column":84}},"loc":{"start":{"line":17,"column":96},"end":{"line":27,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":50},"end":{"line":38,"column":10}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":82},"end":{"line":28,"column":83}},"loc":{"start":{"line":28,"column":95},"end":{"line":38,"column":9}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":4,"2":0,"3":4,"4":2,"5":2,"6":0,"7":2,"8":2,"9":0,"10":8,"11":4,"12":1,"13":1,"14":4,"15":4,"16":4,"17":2,"18":2,"19":2,"20":2,"21":2,"22":1,"23":1,"24":4,"25":2,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1,"32":1},"f":{"0":4,"1":4,"2":0,"3":4,"4":2,"5":2,"6":8,"7":4,"8":2,"9":2,"10":2,"11":2},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[4,4],"4":[4,4]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/api/transactions/transactions.controller.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/api/transactions/transactions.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;AAKA,MAAa,sBAAsB;IACjC,YAAoB,sBAA+C,EAAU,uBAAiD;QAA1G,2BAAsB,GAAtB,sBAAsB,CAAyB;QAAU,4BAAuB,GAAvB,uBAAuB,CAA0B;QACvH,oBAAe,GAAG,CAAO,GAA2C,EAAE,GAAa,EAAE,IAAkB,EAAiB,EAAE;YAC/H,IAAI;gBACF,MAAM,IAAI,GAAG,GAAG,CAAC,IAAqB,CAAC;gBACvC,MAAM,WAAW,GAAsB,GAAG,CAAC,KAAK,CAAC;gBACjD,MAAM,YAAY,GAA2B,MAAM,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;gBACxH,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;aAC9C;YAAC,OAAO,KAAU,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAA,CAAC;QACK,mBAAc,GAAG,CAAO,GAAkC,EAAE,GAAa,EAAE,IAAkB,EAAiB,EAAE;YACrH,IAAI;gBACF,MAAM,IAAI,GAAG,GAAG,CAAC,IAAqB,CAAC;gBACvC,MAAM,WAAW,GAAiB,GAAG,CAAC,IAAI,CAAC;gBAC3C,MAAM,WAAW,GAAyB,MAAM,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;gBAChI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;aAC7C;YAAC,OAAO,KAAU,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAA,CAAC;IApB+H,CAAC;CAqBnI;AAtBD,wDAsBC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\r\nimport { TransactionsQuery, TransferBody } from './transactions.schema';\r\nimport { ITransactionReadService, ITransactionWriteService } from '../../services/interfaces';\r\nimport { TransactionOutputDTO, UserOutputDTO } from '../../services/data-transfer-objects';\r\n\r\nexport class TransactionsController {\r\n  constructor(private transactionReadService: ITransactionReadService, private transactionWriteService: ITransactionWriteService) {}\r\n  public getTransactions = async (req: Request<{}, {}, {}, TransactionsQuery>, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const user = req.user as UserOutputDTO;\r\n      const queryParams: TransactionsQuery = req.query;\r\n      const transactions: TransactionOutputDTO[] = await this.transactionReadService.getAll({ queryParams, userId: user.id });\r\n      res.status(200).json({ data: transactions });\r\n    } catch (error: any) {\r\n      next(error);\r\n    }\r\n  };\r\n  public createTransfer = async (req: Request<{}, {}, TransferBody>, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const user = req.user as UserOutputDTO;\r\n      const newTransfer: TransferBody = req.body;\r\n      const transaction: TransactionOutputDTO = await this.transactionWriteService.create({ transfer: newTransfer, userId: user.id });\r\n      res.status(200).json({ data: transaction });\r\n    } catch (error: any) {\r\n      next(error);\r\n    }\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bec7d1d9fb7e9e253156757d9d333a5276249ed6","contentHash":"09009c5b5b7373e3e9f4218b29fd2ef84058a75cc3d927ebf3837a3e3818ba72"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\index.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":60}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":61}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":57}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":58}},"20":{"start":{"line":21,"column":0},"end":{"line":21,"column":57}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":58}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":64}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":65}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":8,"2":8,"3":8,"4":8,"5":8,"6":22,"7":8,"8":0,"9":0,"10":0,"11":1,"12":8,"13":8,"14":8,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":8,"1":22,"2":0,"3":8},"b":{"0":[1,1,1],"1":[1,0],"2":[8,0],"3":[8,0],"4":[8,8],"5":[0,8],"6":[8,0],"7":[0,0],"8":[1,1,1],"9":[8,0],"10":[8,8]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/index.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,4DAA0C;AAC1C,6DAA2C;AAC3C,yDAAuC;AACvC,0DAAwC;AACxC,yDAAuC;AACvC,0DAAwC;AACxC,gEAA8C;AAC9C,iEAA+C","sourcesContent":["export * from './account.read.repository';\r\nexport * from './account.write.repository';\r\nexport * from './rate.read.repository';\r\nexport * from './rate.write.repository';\r\nexport * from './user.read.repository';\r\nexport * from './user.write.repository';\r\nexport * from './transaction.read.repository';\r\nexport * from './transaction.write.repository';\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"585fa95e190e41cf099ea20c0e5cc48ccc46b184","contentHash":"6780b5d433dd9f56f6a0f87422bbfdeb7d6093226a738d2527b3e8fa2ffac0d8"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\account.read.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\account.read.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"16":{"start":{"line":16,"column":31},"end":{"line":18,"column":10}},"17":{"start":{"line":17,"column":12},"end":{"line":17,"column":66}},"18":{"start":{"line":17,"column":51},"end":{"line":17,"column":64}},"19":{"start":{"line":21,"column":8},"end":{"line":26,"column":11}},"20":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"21":{"start":{"line":23,"column":16},"end":{"line":23,"column":43}},"22":{"start":{"line":25,"column":12},"end":{"line":25,"column":117}},"23":{"start":{"line":25,"column":53},"end":{"line":25,"column":115}},"24":{"start":{"line":25,"column":91},"end":{"line":25,"column":114}},"25":{"start":{"line":29,"column":0},"end":{"line":29,"column":54}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":19,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":31},"end":{"line":18,"column":10}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":63},"end":{"line":16,"column":64}},"loc":{"start":{"line":16,"column":76},"end":{"line":18,"column":9}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":17,"column":44},"end":{"line":17,"column":45}},"loc":{"start":{"line":17,"column":51},"end":{"line":17,"column":64}},"line":17},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":19},"end":{"line":27,"column":5}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":21,"column":47},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":60},"end":{"line":26,"column":9}},"line":21},"13":{"name":"(anonymous_13)","decl":{"start":{"line":25,"column":46},"end":{"line":25,"column":47}},"loc":{"start":{"line":25,"column":53},"end":{"line":25,"column":115}},"line":25},"14":{"name":"(anonymous_14)","decl":{"start":{"line":25,"column":66},"end":{"line":25,"column":67}},"loc":{"start":{"line":25,"column":91},"end":{"line":25,"column":114}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},{"start":{"line":22,"column":12},"end":{"line":24,"column":13}}],"line":22}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":4,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/account.read.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/account.read.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA0C;AAI1C,MAAa,qBAAqB;IAAlC;QAQS,YAAO,GAAG,CAAO,EAAoB,EAAwC,EAAE;YACpF,OAAO,mBAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7C,CAAC,CAAA,CAAC;IACJ,CAAC;IAVc,MAAM,CAAC,MAAyB;;YAC3C,IAAI,CAAC,MAAM,EAAE;gBACX,OAAO,mBAAQ,CAAC;aACjB;YACD,OAAO,mBAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;QAChG,CAAC;KAAA;CAKF;AAXD,sDAWC","sourcesContent":["import { accounts } from '../../database';\r\nimport { AccountModelDTO, AccountGetAllDTO, AccountGetterDTO } from './data-transfer-objects';\r\nimport { IAccountReadRepository } from './interfaces';\r\n\r\nexport class AccountReadRepository implements IAccountReadRepository {\r\n  public async getAll(filter?: AccountGetAllDTO): Promise<AccountModelDTO[]> {\r\n    if (!filter) {\r\n      return accounts;\r\n    }\r\n    return accounts.filter(acc => filter.every(({ filterBy, value }) => acc[filterBy] === value));\r\n  }\r\n\r\n  public getByID = async (id: AccountGetterDTO): Promise<AccountModelDTO | undefined> => {\r\n    return accounts.find(acc => acc.id === id);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"89edd7073165075546eca112da9cf05d86fa144e","contentHash":"db12618812a33081593550f23444ac5b71348c66f0acac35e819412ad752be49"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\index.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":99}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":126}},"4":{"start":{"line":5,"column":86},"end":{"line":5,"column":120}},"5":{"start":{"line":6,"column":13},"end":{"line":6,"column":30}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":105}},"7":{"start":{"line":7,"column":79},"end":{"line":7,"column":99}},"8":{"start":{"line":8,"column":13},"end":{"line":8,"column":30}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":105}},"10":{"start":{"line":9,"column":79},"end":{"line":9,"column":99}},"11":{"start":{"line":10,"column":16},"end":{"line":10,"column":36}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":114}},"13":{"start":{"line":11,"column":82},"end":{"line":11,"column":108}},"14":{"start":{"line":12,"column":0},"end":{"line":12,"column":112}},"15":{"start":{"line":12,"column":81},"end":{"line":12,"column":106}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":72},"end":{"line":5,"column":73}},"loc":{"start":{"line":5,"column":84},"end":{"line":5,"column":122}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":65},"end":{"line":7,"column":66}},"loc":{"start":{"line":7,"column":77},"end":{"line":7,"column":101}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":65},"end":{"line":9,"column":66}},"loc":{"start":{"line":9,"column":77},"end":{"line":9,"column":101}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":68},"end":{"line":11,"column":69}},"loc":{"start":{"line":11,"column":80},"end":{"line":11,"column":110}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":67},"end":{"line":12,"column":68}},"loc":{"start":{"line":12,"column":79},"end":{"line":12,"column":108}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/index.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/index.ts"],"names":[],"mappings":";;;AAAA,6CAA6C;AAApC,2GAAA,YAAY,OAAA;AACrB,+BAA+B;AAAtB,6FAAA,KAAK,OAAA;AACd,+BAA+B;AAAtB,6FAAA,KAAK,OAAA;AACd,qCAA8C;AAArC,mGAAA,QAAQ,OAAA;AAAE,kGAAA,OAAO,OAAA","sourcesContent":["export { transactions } from './transaction';\r\nexport { rates } from './rate';\r\nexport { users } from './user';\r\nexport { accounts, inc_acc } from './account';\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9db3242500c9beb32cff8dfd2b6ade92aa17f004","contentHash":"5f596f3040079453d0b16f6f62c574b29584c3b73352bf43d71bf06703555443"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\transaction.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\transaction.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":0},"end":{"line":16,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/transaction.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/transaction.ts"],"names":[],"mappings":";;;AAEa,QAAA,YAAY,GAAkB;IACzC,YAAY;IACZ,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IAClI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IAClI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,eAAe,EAAE;IACnI,EAAE,EAAE,EAAE,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,0BAA0B,EAAE,WAAW,EAAE,gBAAgB,EAAE;CACrI,CAAC","sourcesContent":["import { Transaction } from '../src/interfaces';\r\n\r\nexport const transactions: Transaction[] = [\r\n  //dummy data\r\n  { id: 1, account_from: 12345, account_to: 67890, amount: 100, createdAt: '2023-04-13T09:30:00.000Z', description: 'Transaction 1' },\r\n  { id: 2, account_from: 67890, account_to: 12345, amount: 200, createdAt: '2023-04-12T14:45:00.000Z', description: 'Transaction 2' },\r\n  { id: 3, account_from: 45678, account_to: 98765, amount: 50, createdAt: '2023-04-11T18:15:00.000Z', description: 'Transaction 3' },\r\n  { id: 4, account_from: 98765, account_to: 45678, amount: 300, createdAt: '2023-04-10T12:30:00.000Z', description: 'Transaction 4' },\r\n  { id: 5, account_from: 11111, account_to: 22222, amount: 75, createdAt: '2023-04-09T21:00:00.000Z', description: 'Transaction 5' },\r\n  { id: 6, account_from: 22222, account_to: 11111, amount: 150, createdAt: '2023-04-08T16:30:00.000Z', description: 'Transaction 6' },\r\n  { id: 7, account_from: 33333, account_to: 44444, amount: 200, createdAt: '2023-04-07T08:45:00.000Z', description: 'Transaction 7' },\r\n  { id: 8, account_from: 44444, account_to: 33333, amount: 100, createdAt: '2023-04-06T10:15:00.000Z', description: 'Transaction 8' },\r\n  { id: 9, account_from: 55555, account_to: 66666, amount: 250, createdAt: '2023-04-05T15:00:00.000Z', description: 'Transaction 9' },\r\n  { id: 10, account_from: 66666, account_to: 55555, amount: 50, createdAt: '2023-04-04T19:30:00.000Z', description: 'Transaction 10' },\r\n];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa01e307f312c55036c68ac1805de963bf47ae1f","contentHash":"900399ebd8d0f78695fcdc0427f130f9ed9c17e8da991f62f5b3123bd9c97793"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\rate.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\rate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/rate.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/rate.ts"],"names":[],"mappings":";;;AAEa,QAAA,KAAK,GAAmB,EAAE,CAAC","sourcesContent":["import { ExchangeRate } from '../src/interfaces';\r\n\r\nexport const rates: ExchangeRate[] = [];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"50d8802828f8dcfd63d992755f03f19f17b7a0ca","contentHash":"8942fb84c7252080b2a7db4a703da1ecddb609bbcaf011053abf9190183f5f90"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\user.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/user.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/user.ts"],"names":[],"mappings":";;;AAEa,QAAA,KAAK,GAAW,EAAE,CAAC","sourcesContent":["import { User } from '../src/interfaces';\r\n\r\nexport const users: User[] = [];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"424a70956b70c5643a43bda48eb543aa65a904ca","contentHash":"0eca298667831103ce7028dfc13fc5485aeb22a6e7941601ae24fb957d3ac490"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\account.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\database\\account.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":14}},"3":{"start":{"line":5,"column":16},"end":{"line":7,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":20}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":16},"end":{"line":5,"column":17}},"loc":{"start":{"line":5,"column":22},"end":{"line":7,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/account.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/database/account.ts"],"names":[],"mappings":";;;AACA,IAAI,MAAM,GAAG,CAAC,CAAC;AACR,MAAM,OAAO,GAAG,GAAG,EAAE;IAC1B,OAAO,EAAE,MAAM,CAAC;AAClB,CAAC,CAAC;AAFW,QAAA,OAAO,WAElB;AAEW,QAAA,QAAQ,GAAc,EAAE,CAAC","sourcesContent":["import { Account } from '../src/interfaces';\r\nlet acc_id = 0;\r\nexport const inc_acc = () => {\r\n  return ++acc_id;\r\n};\r\n\r\nexport const accounts: Account[] = [];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e190318a5adb188d73c3843d26afd160c22419ba","contentHash":"9db8c23f4ee70bfbac400be3841ce6b4c3bffe4394bad72e7c2fa1c7e96ed0b6"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\account.write.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\account.write.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":16,"column":8},"end":{"line":25,"column":11}},"16":{"start":{"line":16,"column":49},"end":{"line":25,"column":10}},"17":{"start":{"line":17,"column":31},"end":{"line":22,"column":13}},"18":{"start":{"line":23,"column":12},"end":{"line":23,"column":49}},"19":{"start":{"line":24,"column":12},"end":{"line":24,"column":30}},"20":{"start":{"line":26,"column":8},"end":{"line":32,"column":11}},"21":{"start":{"line":26,"column":62},"end":{"line":32,"column":10}},"22":{"start":{"line":27,"column":26},"end":{"line":27,"column":93}},"23":{"start":{"line":27,"column":68},"end":{"line":27,"column":92}},"24":{"start":{"line":28,"column":34},"end":{"line":28,"column":60}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":93}},"26":{"start":{"line":30,"column":12},"end":{"line":30,"column":57}},"27":{"start":{"line":31,"column":12},"end":{"line":31,"column":35}},"28":{"start":{"line":35,"column":0},"end":{"line":35,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":33,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":22},"end":{"line":16,"column":23}},"loc":{"start":{"line":16,"column":49},"end":{"line":25,"column":10}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":81},"end":{"line":16,"column":82}},"loc":{"start":{"line":16,"column":94},"end":{"line":25,"column":9}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":26,"column":22},"end":{"line":26,"column":23}},"loc":{"start":{"line":26,"column":62},"end":{"line":32,"column":10}},"line":26},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":94},"end":{"line":26,"column":95}},"loc":{"start":{"line":26,"column":107},"end":{"line":32,"column":9}},"line":26},"12":{"name":"(anonymous_12)","decl":{"start":{"line":27,"column":56},"end":{"line":27,"column":57}},"loc":{"start":{"line":27,"column":68},"end":{"line":27,"column":92}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":4,"16":0,"17":0,"18":0,"19":0,"20":4,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/account.write.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/account.write.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAmD;AAKnD,MAAa,sBAAsB;IAAnC;QACS,WAAM,GAAG,CAAO,EAAE,OAAO,EAAE,QAAQ,EAAyB,EAA4B,EAAE;YAC/F,MAAM,UAAU,GAAY;gBAC1B,EAAE,EAAE,IAAA,kBAAO,GAAE;gBACb,OAAO;gBACP,QAAQ;gBACR,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;aACzC,CAAC;YACF,mBAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC1B,OAAO,UAAU,CAAC;QACpB,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,CAAO,EAAE,OAAO,EAAE,EAAE,EAAE,iBAAiB,EAAyB,EAA4B,EAAE;YAC5G,MAAM,KAAK,GAAG,mBAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;YACvE,IAAI,eAAe,GAAoB,mBAAQ,CAAC,KAAK,CAAC,CAAC;YACvD,eAAe,mCAAQ,eAAe,KAAE,OAAO,GAAE,CAAC;YAClD,mBAAQ,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;YAClC,OAAO,eAAe,CAAC;QACzB,CAAC,CAAA,CAAC;IACJ,CAAC;CAAA;AAnBD,wDAmBC","sourcesContent":["import { accounts, inc_acc } from '../../database';\r\nimport { Account } from '../interfaces';\r\nimport { AccountModelDTO, AccountCreateInputDTO, AccountUpdateInputDTO } from './data-transfer-objects';\r\nimport { IAccountWriteRepository } from './interfaces';\r\n\r\nexport class AccountWriteRepository implements IAccountWriteRepository {\r\n  public create = async ({ id_user, currency }: AccountCreateInputDTO): Promise<AccountModelDTO> => {\r\n    const newAccount: Account = {\r\n      id: inc_acc(),\r\n      id_user,\r\n      currency,\r\n      balance: Math.floor(Math.random() * 100),\r\n    };\r\n    accounts.push(newAccount);\r\n    return newAccount;\r\n  };\r\n\r\n  public update = async ({ balance, id: accountToUpdateID }: AccountUpdateInputDTO): Promise<AccountModelDTO> => {\r\n    const index = accounts.findIndex(({ id }) => accountToUpdateID === id);\r\n    let accountToUpdate: AccountModelDTO = accounts[index];\r\n    accountToUpdate = { ...accountToUpdate, balance };\r\n    accounts[index] = accountToUpdate;\r\n    return accountToUpdate;\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"90a029ee44e05e3e93282d9625efeaa6381cfd4e","contentHash":"d3e9f2b7ca6df3bc3f6f8c8e50fb36a4216c7a11c049e3de0f25496c082a1faf"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\rate.read.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\rate.read.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"16":{"start":{"line":16,"column":33},"end":{"line":18,"column":10}},"17":{"start":{"line":17,"column":12},"end":{"line":17,"column":69}},"18":{"start":{"line":17,"column":49},"end":{"line":17,"column":67}},"19":{"start":{"line":21,"column":8},"end":{"line":23,"column":11}},"20":{"start":{"line":22,"column":12},"end":{"line":22,"column":36}},"21":{"start":{"line":26,"column":0},"end":{"line":26,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":19,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":33},"end":{"line":18,"column":10}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":65},"end":{"line":16,"column":66}},"loc":{"start":{"line":16,"column":78},"end":{"line":18,"column":9}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":17,"column":41},"end":{"line":17,"column":42}},"loc":{"start":{"line":17,"column":49},"end":{"line":17,"column":67}},"line":17},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":13},"end":{"line":24,"column":5}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":21,"column":47},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":60},"end":{"line":23,"column":9}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":5,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":5,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/rate.read.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/rate.read.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAuC;AAIvC,MAAa,kBAAkB;IAA/B;QAKS,YAAO,GAAG,CAAO,IAAmB,EAAqC,EAAE;YAChF,OAAO,gBAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QAChD,CAAC,CAAA,CAAC;IACJ,CAAC;IAPc,MAAM;;YACjB,OAAO,gBAAK,CAAC;QACf,CAAC;KAAA;CAKF;AARD,gDAQC","sourcesContent":["import { rates } from '../../database';\r\nimport { RateGetterDTO, RateModelDTO } from './data-transfer-objects';\r\nimport { IRateReadRepository } from './interfaces';\r\n\r\nexport class RateReadRepository implements IRateReadRepository {\r\n  public async getAll(): Promise<RateModelDTO[]> {\r\n    return rates;\r\n  }\r\n\r\n  public getByID = async (name: RateGetterDTO): Promise<RateModelDTO | undefined> => {\r\n    return rates.find(rate => rate.name === name);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"14e7a021b195e3c9cfd52ca0e2dd3c382ea2dd6f","contentHash":"966fa491a237b1a11f55bf4f7eabe54dfb12e67c4717ce0e42e571aad7a859e5"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\rate.write.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\rate.write.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":37}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":16,"column":8},"end":{"line":19,"column":11}},"16":{"start":{"line":16,"column":32},"end":{"line":19,"column":10}},"17":{"start":{"line":17,"column":12},"end":{"line":17,"column":40}},"18":{"start":{"line":18,"column":12},"end":{"line":18,"column":24}},"19":{"start":{"line":20,"column":8},"end":{"line":24,"column":11}},"20":{"start":{"line":20,"column":40},"end":{"line":24,"column":10}},"21":{"start":{"line":21,"column":26},"end":{"line":21,"column":94}},"22":{"start":{"line":21,"column":67},"end":{"line":21,"column":93}},"23":{"start":{"line":22,"column":12},"end":{"line":22,"column":51}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":32}},"25":{"start":{"line":27,"column":0},"end":{"line":27,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":25,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":22},"end":{"line":16,"column":23}},"loc":{"start":{"line":16,"column":32},"end":{"line":19,"column":10}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":64},"end":{"line":16,"column":65}},"loc":{"start":{"line":16,"column":77},"end":{"line":19,"column":9}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":22},"end":{"line":20,"column":23}},"loc":{"start":{"line":20,"column":40},"end":{"line":24,"column":10}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":72},"end":{"line":20,"column":73}},"loc":{"start":{"line":20,"column":85},"end":{"line":24,"column":9}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":21,"column":53},"end":{"line":21,"column":54}},"loc":{"start":{"line":21,"column":67},"end":{"line":21,"column":93}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/rate.write.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/rate.write.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAuC;AAIvC,MAAa,mBAAmB;IAAhC;QACS,WAAM,GAAG,CAAO,IAAkB,EAAyB,EAAE;YAClE,gBAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjB,OAAO,IAAI,CAAC;QACd,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,CAAO,YAA0B,EAAyB,EAAE;YAC1E,MAAM,KAAK,GAAG,gBAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;YACxE,gBAAK,CAAC,KAAK,CAAC,GAAG,YAAY,CAAC;YAC5B,OAAO,YAAY,CAAC;QACtB,CAAC,CAAA,CAAC;IACJ,CAAC;CAAA;AAXD,kDAWC","sourcesContent":["import { rates } from '../../database';\r\nimport { RateModelDTO, RateInputDTO } from './data-transfer-objects';\r\nimport { IRateWriteRepository } from './interfaces';\r\n\r\nexport class RateWriteRepository implements IRateWriteRepository {\r\n  public create = async (rate: RateInputDTO): Promise<RateModelDTO> => {\r\n    rates.push(rate);\r\n    return rate;\r\n  };\r\n\r\n  public update = async (rateToUpdate: RateInputDTO): Promise<RateModelDTO> => {\r\n    const index = rates.findIndex(({ name }) => rateToUpdate.name === name);\r\n    rates[index] = rateToUpdate;\r\n    return rateToUpdate;\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f61be63001fdfb21d371f295cc369c4ea2a74fb0","contentHash":"085b81db7cd9e947a31026bd0b60d08619e062a9cb1a7bb8a9def4b4a3850580"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\user.read.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\user.read.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"16":{"start":{"line":16,"column":28},"end":{"line":18,"column":10}},"17":{"start":{"line":17,"column":12},"end":{"line":17,"column":36}},"18":{"start":{"line":19,"column":8},"end":{"line":21,"column":11}},"19":{"start":{"line":19,"column":37},"end":{"line":21,"column":10}},"20":{"start":{"line":20,"column":12},"end":{"line":20,"column":71}},"21":{"start":{"line":20,"column":49},"end":{"line":20,"column":69}},"22":{"start":{"line":22,"column":8},"end":{"line":24,"column":11}},"23":{"start":{"line":22,"column":31},"end":{"line":24,"column":10}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":65}},"25":{"start":{"line":23,"column":49},"end":{"line":23,"column":63}},"26":{"start":{"line":27,"column":0},"end":{"line":27,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":25,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":22},"end":{"line":16,"column":23}},"loc":{"start":{"line":16,"column":28},"end":{"line":18,"column":10}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":60},"end":{"line":16,"column":61}},"loc":{"start":{"line":16,"column":73},"end":{"line":18,"column":9}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":26},"end":{"line":19,"column":27}},"loc":{"start":{"line":19,"column":37},"end":{"line":21,"column":10}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":19,"column":69},"end":{"line":19,"column":70}},"loc":{"start":{"line":19,"column":82},"end":{"line":21,"column":9}},"line":19},"12":{"name":"(anonymous_12)","decl":{"start":{"line":20,"column":41},"end":{"line":20,"column":42}},"loc":{"start":{"line":20,"column":49},"end":{"line":20,"column":69}},"line":20},"13":{"name":"(anonymous_13)","decl":{"start":{"line":22,"column":23},"end":{"line":22,"column":24}},"loc":{"start":{"line":22,"column":31},"end":{"line":24,"column":10}},"line":22},"14":{"name":"(anonymous_14)","decl":{"start":{"line":22,"column":63},"end":{"line":22,"column":64}},"loc":{"start":{"line":22,"column":76},"end":{"line":24,"column":9}},"line":22},"15":{"name":"(anonymous_15)","decl":{"start":{"line":23,"column":41},"end":{"line":23,"column":42}},"loc":{"start":{"line":23,"column":49},"end":{"line":23,"column":63}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":4,"16":0,"17":0,"18":4,"19":0,"20":0,"21":0,"22":4,"23":0,"24":0,"25":0,"26":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/user.read.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/user.read.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAuC;AAIvC,MAAa,kBAAkB;IAA/B;QACS,WAAM,GAAG,GAAkC,EAAE;YAClD,OAAO,gBAAK,CAAC;QACf,CAAC,CAAA,CAAC;QAEK,eAAU,GAAG,CAAO,KAAa,EAAqC,EAAE;YAC7E,OAAO,gBAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC;QAClD,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,CAAO,EAAiB,EAAqC,EAAE;YAC9E,OAAO,gBAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;QAC5C,CAAC,CAAA,CAAC;IACJ,CAAC;CAAA;AAZD,gDAYC","sourcesContent":["import { users } from '../../database';\r\nimport { UserGetterDTO, UserModelDTO } from './data-transfer-objects';\r\nimport { IUserReadRepository } from './interfaces';\r\n\r\nexport class UserReadRepository implements IUserReadRepository {\r\n  public getAll = async (): Promise<UserModelDTO[]> => {\r\n    return users;\r\n  };\r\n\r\n  public getByEmail = async (email: string): Promise<UserModelDTO | undefined> => {\r\n    return users.find(user => user.email === email);\r\n  };\r\n\r\n  public getByID = async (id: UserGetterDTO): Promise<UserModelDTO | undefined> => {\r\n    return users.find(user => user.id === id);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bfc8b7d59329c014d49baf0b8a14eb6af0b9da23","contentHash":"b7a5327170154e55c5940ecbce178362829e43a32ecc95b80791a4bb8b68a93e"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\user.write.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\user.write.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":37}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":14,"column":21},"end":{"line":14,"column":45}},"16":{"start":{"line":17,"column":8},"end":{"line":21,"column":11}},"17":{"start":{"line":17,"column":32},"end":{"line":21,"column":10}},"18":{"start":{"line":18,"column":28},"end":{"line":18,"column":89}},"19":{"start":{"line":19,"column":12},"end":{"line":19,"column":43}},"20":{"start":{"line":20,"column":12},"end":{"line":20,"column":27}},"21":{"start":{"line":22,"column":8},"end":{"line":24,"column":10}},"22":{"start":{"line":23,"column":12},"end":{"line":23,"column":81}},"23":{"start":{"line":27,"column":0},"end":{"line":27,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":18},"end":{"line":25,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":32},"end":{"line":21,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":64},"end":{"line":17,"column":65}},"loc":{"start":{"line":17,"column":77},"end":{"line":21,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":22},"end":{"line":22,"column":23}},"loc":{"start":{"line":22,"column":28},"end":{"line":24,"column":9}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/user.write.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/user.write.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAuC;AACvC,8CAAkD;AAIlD,MAAa,mBAAmB;IAAhC;QACS,WAAM,GAAG,CAAO,IAAwB,EAAyB,EAAE;YACxE,MAAM,OAAO,mCACR,IAAI,KACP,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,GAClB,CAAC;YACF,gBAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpB,OAAO,OAAO,CAAC;QACjB,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,GAA0B,EAAE;YAC1C,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IACJ,CAAC;CAAA;AAbD,kDAaC","sourcesContent":["import { users } from '../../database';\r\nimport { CustomError, User } from '../interfaces';\r\nimport { UserCreateInputDTO, UserModelDTO } from './data-transfer-objects';\r\nimport { IUserWriteRepository } from './interfaces';\r\n\r\nexport class UserWriteRepository implements IUserWriteRepository {\r\n  public create = async (user: UserCreateInputDTO): Promise<UserModelDTO> => {\r\n    const newUser: User = {\r\n      ...user,\r\n      id: Math.random(),\r\n    };\r\n    users.push(newUser);\r\n    return newUser;\r\n  };\r\n\r\n  public update = (): Promise<UserModelDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bb71cf91713d9e2f3bdd1a6dfa6e5b99168e8e18","contentHash":"d8fdabd856203850947ca8478a77a826473e781822d50b7d782229b32bb73231"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\index.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":58}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":52}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":38,"7":1,"8":0,"9":0,"10":0,"11":1,"12":4,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1},"f":{"0":1,"1":38,"2":0,"3":4},"b":{"0":[1,1,1],"1":[1,0],"2":[1,0],"3":[1,0],"4":[1,1],"5":[0,1],"6":[1,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/index.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,mDAAiC;AACjC,0DAAwC;AACxC,oDAAkC;AAClC,oDAAkC","sourcesContent":["export * from './user.interface';\r\nexport * from './transaction.interface';\r\nexport * from './rates.interface';\r\nexport * from './error.interface';\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c3c1172eb7b0928cfe03b62c35d00aa24279cecf","contentHash":"7fe5582ce598303aacd130e730fa0422dc83354d2a0ce37b689e831539802c76"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\user.interface.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\user.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/user.interface.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/user.interface.ts"],"names":[],"mappings":"","sourcesContent":["export interface User {\r\n  id: number;\r\n  name?: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface Account {\r\n  id: number;\r\n  id_user: number;\r\n  currency: string;\r\n  balance: number;\r\n}\r\n\r\nexport interface TokenData {\r\n  token: string;\r\n  expiresIn: string;\r\n}\r\n\r\nexport interface DataStoredInToken {\r\n  email: string;\r\n  id: number;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0e5d7556f2d16946ceef4114d76e56b1120f9c15","contentHash":"cc75bf5614aea7ef5b7fe8d3ef4612f589e214bcbebed8a9fb23da5fc236b561"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\transaction.interface.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\transaction.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/transaction.interface.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/transaction.interface.ts"],"names":[],"mappings":"","sourcesContent":["export interface Transaction {\r\n  id: number;\r\n  createdAt: string;\r\n  account_from: number;\r\n  account_to: number;\r\n  amount: number;\r\n  description?: string;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b37639c5975fac915f6f48470658f2ad98e159aa","contentHash":"305dc456278f067691c09a1b33c0682551a2430d5ea99cf8a762d05390ca8637"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\rates.interface.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\rates.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/rates.interface.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/rates.interface.ts"],"names":[],"mappings":"","sourcesContent":["export interface ExchangeRate {\r\n  name: string;\r\n  rates: { USD_TO: number; USD_FROM: number };\r\n}\r\n\r\nexport interface Rates {\r\n  [currency: string]: number;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"30afaccec67177ac19178e13db452f13f55e10ac","contentHash":"2c4c9d02080045acdd6189c273655d4e08827f97e962e8354ae3ae3d6efac354"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\error.interface.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\interfaces\\error.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":16}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":34}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":41},"end":{"line":10,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":22,"3":22,"4":22,"5":22,"6":1},"f":{"0":22},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/error.interface.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/interfaces/error.interface.ts"],"names":[],"mappings":";;;AAIA,MAAa,WAAY,SAAQ,KAAK;IAGpC,YAAY,SAAoB,EAAE,YAAsB;QACtD,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;CACF;AATD,kCASC","sourcesContent":["import { errorStatusCodeMap } from '../utils/helpers';\r\n\r\nexport type ErrorType = keyof typeof errorStatusCodeMap;\r\n\r\nexport class CustomError extends Error {\r\n  errorType: ErrorType;\r\n  messages: string[];\r\n  constructor(errorType: ErrorType, errorMessage: string[]) {\r\n    super();\r\n    this.name = 'CustomError';\r\n    this.messages = errorMessage;\r\n    this.errorType = errorType;\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d91eb0374d1c57570d8c28cd78696965c775d06","contentHash":"ba5f5229664ab32c75b6137ed6f728d890b732b315db34b8b31042cc25d9537c"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\transaction.read.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\transaction.read.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":43}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":14,"column":21},"end":{"line":14,"column":45}},"16":{"start":{"line":17,"column":8},"end":{"line":24,"column":11}},"17":{"start":{"line":17,"column":34},"end":{"line":24,"column":10}},"18":{"start":{"line":18,"column":38},"end":{"line":18,"column":61}},"19":{"start":{"line":19,"column":12},"end":{"line":20,"column":41}},"20":{"start":{"line":20,"column":16},"end":{"line":20,"column":41}},"21":{"start":{"line":21,"column":12},"end":{"line":23,"column":16}},"22":{"start":{"line":21,"column":51},"end":{"line":23,"column":14}},"23":{"start":{"line":22,"column":16},"end":{"line":22,"column":47}},"24":{"start":{"line":25,"column":8},"end":{"line":29,"column":11}},"25":{"start":{"line":25,"column":55},"end":{"line":29,"column":10}},"26":{"start":{"line":26,"column":12},"end":{"line":28,"column":15}},"27":{"start":{"line":27,"column":16},"end":{"line":27,"column":90}},"28":{"start":{"line":27,"column":48},"end":{"line":27,"column":88}},"29":{"start":{"line":30,"column":8},"end":{"line":32,"column":10}},"30":{"start":{"line":31,"column":12},"end":{"line":31,"column":81}},"31":{"start":{"line":35,"column":0},"end":{"line":35,"column":62}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":18},"end":{"line":33,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":34},"end":{"line":24,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":66},"end":{"line":17,"column":67}},"loc":{"start":{"line":17,"column":79},"end":{"line":24,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":21,"column":44},"end":{"line":21,"column":45}},"loc":{"start":{"line":21,"column":51},"end":{"line":23,"column":14}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":21,"column":64},"end":{"line":21,"column":65}},"loc":{"start":{"line":21,"column":89},"end":{"line":23,"column":13}},"line":21},"12":{"name":"(anonymous_12)","decl":{"start":{"line":25,"column":36},"end":{"line":25,"column":37}},"loc":{"start":{"line":25,"column":55},"end":{"line":29,"column":10}},"line":25},"13":{"name":"(anonymous_13)","decl":{"start":{"line":25,"column":87},"end":{"line":25,"column":88}},"loc":{"start":{"line":25,"column":100},"end":{"line":29,"column":9}},"line":25},"14":{"name":"(anonymous_14)","decl":{"start":{"line":26,"column":50},"end":{"line":26,"column":51}},"loc":{"start":{"line":26,"column":84},"end":{"line":28,"column":13}},"line":26},"15":{"name":"(anonymous_15)","decl":{"start":{"line":27,"column":42},"end":{"line":27,"column":43}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":88}},"line":27},"16":{"name":"(anonymous_16)","decl":{"start":{"line":30,"column":23},"end":{"line":30,"column":24}},"loc":{"start":{"line":30,"column":29},"end":{"line":32,"column":9}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":19,"column":12},"end":{"line":20,"column":41}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":20,"column":41}},{"start":{"line":19,"column":12},"end":{"line":20,"column":41}}],"line":19},"6":{"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":88}},"type":"binary-expr","locations":[{"start":{"line":27,"column":48},"end":{"line":27,"column":67}},{"start":{"line":27,"column":71},"end":{"line":27,"column":88}}],"line":27}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":2,"25":0,"26":0,"27":0,"28":0,"29":2,"30":0,"31":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/transaction.read.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/transaction.read.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA8C;AAC9C,8CAA4C;AAI5C,MAAa,yBAAyB;IAAtC;QACS,WAAM,GAAG,CAAO,MAA6B,EAAkC,EAAE;YACtF,MAAM,iBAAiB,GAA0B,uBAAY,CAAC;YAC9D,IAAI,CAAC,MAAM;gBAAE,OAAO,iBAAiB,CAAC;YACtC,OAAO,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CACpC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE;gBACnC,OAAO,GAAG,CAAC,QAAQ,CAAC,KAAK,KAAK,CAAC;YACjC,CAAC,CAAC,CACH,CAAC;QACJ,CAAC,CAAA,CAAC;QAEK,yBAAoB,GAAG,CAAO,aAAuB,EAAkC,EAAE;YAC9F,OAAO,uBAAY,CAAC,MAAM,CAAC,CAAC,EAAE,YAAY,EAAE,UAAU,EAAE,EAAE,EAAE;gBAC1D,OAAO,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,YAAY,IAAI,EAAE,KAAK,UAAU,CAAC,CAAC;YAC5E,CAAC,CAAC,CAAC;QACL,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,GAA6C,EAAE;YAC9D,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IACJ,CAAC;CAAA;AApBD,8DAoBC","sourcesContent":["import { transactions } from '../../database';\r\nimport { CustomError } from '../interfaces';\r\nimport { TransactionModelDTO, TransactionGetAllDTO } from './data-transfer-objects';\r\nimport { ITransactionReadRepository } from './interfaces';\r\n\r\nexport class TransactionReadRepository implements ITransactionReadRepository {\r\n  public getAll = async (filter?: TransactionGetAllDTO): Promise<TransactionModelDTO[]> => {\r\n    const transactionsModel: TransactionModelDTO[] = transactions;\r\n    if (!filter) return transactionsModel;\r\n    return transactionsModel.filter(txn =>\r\n      filter.every(({ filterBy, value }) => {\r\n        return txn[filterBy] === value;\r\n      }),\r\n    );\r\n  };\r\n\r\n  public getUsersTransactions = async (usersAccounts: number[]): Promise<TransactionModelDTO[]> => {\r\n    return transactions.filter(({ account_from, account_to }) => {\r\n      return usersAccounts.some(id => id === account_from || id === account_to);\r\n    });\r\n  };\r\n\r\n  public getByID = (): Promise<TransactionModelDTO | undefined> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"af2222b9d7ec7cfd022412caca3b5052587d8504","contentHash":"ee69ff5539fd4ecb141f6bef264e59fe4aada4e3679e975b7faeb418d0916712"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\transaction.write.repository.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\repositories\\transaction.write.repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":44}},"14":{"start":{"line":13,"column":19},"end":{"line":13,"column":44}},"15":{"start":{"line":14,"column":21},"end":{"line":14,"column":45}},"16":{"start":{"line":17,"column":8},"end":{"line":22,"column":11}},"17":{"start":{"line":17,"column":36},"end":{"line":22,"column":10}},"18":{"start":{"line":18,"column":32},"end":{"line":18,"column":115}},"19":{"start":{"line":19,"column":12},"end":{"line":19,"column":54}},"20":{"start":{"line":20,"column":37},"end":{"line":20,"column":67}},"21":{"start":{"line":21,"column":12},"end":{"line":21,"column":36}},"22":{"start":{"line":23,"column":8},"end":{"line":25,"column":10}},"23":{"start":{"line":24,"column":12},"end":{"line":24,"column":81}},"24":{"start":{"line":28,"column":0},"end":{"line":28,"column":64}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":18},"end":{"line":26,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":36},"end":{"line":22,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":68},"end":{"line":17,"column":69}},"loc":{"start":{"line":17,"column":81},"end":{"line":22,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":23}},"loc":{"start":{"line":23,"column":28},"end":{"line":25,"column":9}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":2,"23":0,"24":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0,"10":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/transaction.write.repository.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/repositories/transaction.write.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA8C;AAC9C,8CAAyD;AAKzD,MAAa,0BAA0B;IAAvC;QACS,WAAM,GAAG,CAAO,QAA6B,EAAgC,EAAE;YACpF,MAAM,WAAW,mBACf,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,EACjB,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,IAChC,QAAQ,CACZ,CAAC;YACF,uBAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/B,MAAM,gBAAgB,qBAA6B,WAAW,CAAE,CAAC;YACjE,OAAO,gBAAgB,CAAC;QAC1B,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,GAAiC,EAAE;YACjD,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IACJ,CAAC;CAAA;AAfD,gEAeC","sourcesContent":["import { transactions } from '../../database';\r\nimport { CustomError, Transaction } from '../interfaces';\r\nimport { TransactionInputDTO } from './data-transfer-objects/Transaction/TransactionInput';\r\nimport { TransactionModelDTO } from './data-transfer-objects/Transaction/TransactionModel';\r\nimport { ITransactionWriteRepository } from './interfaces';\r\n\r\nexport class TransactionWriteRepository implements ITransactionWriteRepository {\r\n  public create = async (transfer: TransactionInputDTO): Promise<TransactionModelDTO> => {\r\n    const newTransfer: Transaction = {\r\n      id: Math.random(),\r\n      createdAt: new Date().toISOString(),\r\n      ...transfer,\r\n    };\r\n    transactions.push(newTransfer);\r\n    const transactionModel: TransactionModelDTO = { ...newTransfer };\r\n    return transactionModel;\r\n  };\r\n\r\n  public update = (): Promise<TransactionModelDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"de1a20e0d6577cd4ceed20b16b8040d1fb3a0f29","contentHash":"16a26a31ca396dd0f2a1e51d56a1dd69573409b445bd5755e5fbd1ac675c564d"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\index.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":57}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":58}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":54}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":55}},"20":{"start":{"line":21,"column":0},"end":{"line":21,"column":54}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":55}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":61}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":8,"2":8,"3":8,"4":8,"5":8,"6":78,"7":8,"8":0,"9":0,"10":0,"11":1,"12":8,"13":8,"14":8,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":8,"1":78,"2":0,"3":8},"b":{"0":[1,1,1],"1":[1,0],"2":[8,0],"3":[8,0],"4":[8,8],"5":[0,8],"6":[8,0],"7":[0,0],"8":[1,1,1],"9":[8,0],"10":[8,8]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/index.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,yDAAuC;AACvC,0DAAwC;AACxC,sDAAoC;AACpC,uDAAqC;AACrC,sDAAoC;AACpC,uDAAqC;AACrC,6DAA2C;AAC3C,8DAA4C","sourcesContent":["export * from './account.read.service';\r\nexport * from './account.write.service';\r\nexport * from './rate.read.service';\r\nexport * from './rate.write.service';\r\nexport * from './user.read.service';\r\nexport * from './user.write.service';\r\nexport * from './transaction.read.service';\r\nexport * from './transaction.write.service';\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"491623801dfad22a54f643a67f5a4ab8981b52e7","contentHash":"1efb81e2e9deabe0c386ad0793d7c2237ddcbb41d8ba62301fe3e05e74bfdb21"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\account.read.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\account.read.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":59}},"16":{"start":{"line":17,"column":8},"end":{"line":19,"column":11}},"17":{"start":{"line":17,"column":34},"end":{"line":19,"column":10}},"18":{"start":{"line":18,"column":12},"end":{"line":18,"column":95}},"19":{"start":{"line":20,"column":8},"end":{"line":26,"column":11}},"20":{"start":{"line":20,"column":31},"end":{"line":26,"column":10}},"21":{"start":{"line":21,"column":28},"end":{"line":21,"column":72}},"22":{"start":{"line":22,"column":12},"end":{"line":25,"column":92}},"23":{"start":{"line":23,"column":16},"end":{"line":23,"column":31}},"24":{"start":{"line":25,"column":16},"end":{"line":25,"column":92}},"25":{"start":{"line":27,"column":8},"end":{"line":29,"column":11}},"26":{"start":{"line":27,"column":50},"end":{"line":29,"column":10}},"27":{"start":{"line":28,"column":12},"end":{"line":28,"column":61}},"28":{"start":{"line":32,"column":0},"end":{"line":32,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":39},"end":{"line":30,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":34},"end":{"line":19,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":66},"end":{"line":17,"column":67}},"loc":{"start":{"line":17,"column":79},"end":{"line":19,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":23},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":31},"end":{"line":26,"column":10}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":63},"end":{"line":20,"column":64}},"loc":{"start":{"line":20,"column":76},"end":{"line":26,"column":9}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":27,"column":34},"end":{"line":27,"column":35}},"loc":{"start":{"line":27,"column":50},"end":{"line":29,"column":10}},"line":27},"13":{"name":"(anonymous_13)","decl":{"start":{"line":27,"column":82},"end":{"line":27,"column":83}},"loc":{"start":{"line":27,"column":95},"end":{"line":29,"column":9}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":22,"column":12},"end":{"line":25,"column":92}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":25,"column":92}},{"start":{"line":22,"column":12},"end":{"line":25,"column":92}}],"line":22}},"s":{"0":1,"1":10,"2":0,"3":11,"4":10,"5":10,"6":1,"7":0,"8":0,"9":0,"10":20,"11":11,"12":1,"13":1,"14":1,"15":14,"16":14,"17":1,"18":1,"19":14,"20":6,"21":6,"22":6,"23":5,"24":1,"25":14,"26":4,"27":4,"28":1},"f":{"0":11,"1":10,"2":0,"3":11,"4":10,"5":0,"6":20,"7":14,"8":1,"9":1,"10":6,"11":6,"12":4,"13":4},"b":{"0":[1,1,1],"1":[10,0],"2":[11,11],"3":[10,10],"4":[11,11],"5":[5,1]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/account.read.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/account.read.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8CAA4C;AAI5C,MAAa,kBAAkB;IAC7B,YAAoB,qBAA6C;QAA7C,0BAAqB,GAArB,qBAAqB,CAAwB;QAE1D,WAAM,GAAG,CAAO,MAAwB,EAA+B,EAAE;YAC9E,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;QACrF,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,CAAO,EAAoB,EAA6B,EAAE;YACzE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC7D,IAAI,OAAO;gBAAE,OAAO,OAAO,CAAC;;gBACvB,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtE,CAAC,CAAA,CAAC;QAEK,uBAAkB,GAAG,CAAO,UAAkB,EAAmB,EAAE;YACxE,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC;QACnD,CAAC,CAAA,CAAC;IAdkE,CAAC;CAetE;AAhBD,gDAgBC","sourcesContent":["import { IAccountReadRepository } from '../repositories/interfaces';\r\nimport { CustomError } from '../interfaces';\r\nimport { IAccountReadService } from './interfaces';\r\nimport { AccountOutputDTO, AccountGetterDTO } from './data-transfer-objects';\r\n\r\nexport class AccountReadService implements IAccountReadService {\r\n  constructor(private accountReadRepository: IAccountReadRepository) {}\r\n\r\n  public getAll = async (userId: AccountGetterDTO): Promise<AccountOutputDTO[]> => {\r\n    return this.accountReadRepository.getAll([{ filterBy: 'id_user', value: userId }]);\r\n  };\r\n\r\n  public getByID = async (id: AccountGetterDTO): Promise<AccountOutputDTO> => {\r\n    const account = await this.accountReadRepository.getByID(id);\r\n    if (account) return account;\r\n    else throw new CustomError('VALIDATION_ERROR', ['Invalid account']);\r\n  };\r\n\r\n  public getAccountCurrency = async (account_id: number): Promise<string> => {\r\n    return (await this.getByID(account_id)).currency;\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f3cada2821079a98d381aac07808e6b6529fe44","contentHash":"4e24c6c36e9ae15735bb8fb5455a893c914ebb8de8bd6aa596ea42270319ccf4"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\account.write.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\account.write.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":37}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":14,"column":18},"end":{"line":14,"column":45}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":53}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":61}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":53}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":47}},"20":{"start":{"line":21,"column":8},"end":{"line":27,"column":11}},"21":{"start":{"line":21,"column":49},"end":{"line":27,"column":10}},"22":{"start":{"line":22,"column":25},"end":{"line":22,"column":71}},"23":{"start":{"line":23,"column":12},"end":{"line":26,"column":96}},"24":{"start":{"line":24,"column":16},"end":{"line":24,"column":81}},"25":{"start":{"line":26,"column":16},"end":{"line":26,"column":96}},"26":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"27":{"start":{"line":28,"column":48},"end":{"line":37,"column":10}},"28":{"start":{"line":29,"column":12},"end":{"line":36,"column":13}},"29":{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},"30":{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},"31":{"start":{"line":35,"column":16},"end":{"line":35,"column":84}},"32":{"start":{"line":38,"column":8},"end":{"line":40,"column":11}},"33":{"start":{"line":38,"column":38},"end":{"line":40,"column":10}},"34":{"start":{"line":39,"column":12},"end":{"line":39,"column":72}},"35":{"start":{"line":41,"column":8},"end":{"line":63,"column":11}},"36":{"start":{"line":41,"column":76},"end":{"line":63,"column":10}},"37":{"start":{"line":42,"column":30},"end":{"line":42,"column":36}},"38":{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},"39":{"start":{"line":45,"column":16},"end":{"line":45,"column":67}},"40":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"41":{"start":{"line":49,"column":16},"end":{"line":49,"column":95}},"42":{"start":{"line":52,"column":12},"end":{"line":52,"column":70}},"43":{"start":{"line":54,"column":32},"end":{"line":54,"column":95}},"44":{"start":{"line":55,"column":34},"end":{"line":55,"column":99}},"45":{"start":{"line":56,"column":31},"end":{"line":56,"column":99}},"46":{"start":{"line":57,"column":30},"end":{"line":57,"column":49}},"47":{"start":{"line":59,"column":12},"end":{"line":59,"column":64}},"48":{"start":{"line":60,"column":41},"end":{"line":60,"column":114}},"49":{"start":{"line":61,"column":39},"end":{"line":61,"column":108}},"50":{"start":{"line":62,"column":12},"end":{"line":62,"column":90}},"51":{"start":{"line":66,"column":0},"end":{"line":66,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":97},"end":{"line":64,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":21,"column":22},"end":{"line":21,"column":23}},"loc":{"start":{"line":21,"column":49},"end":{"line":27,"column":10}},"line":21},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":81},"end":{"line":21,"column":82}},"loc":{"start":{"line":21,"column":94},"end":{"line":27,"column":9}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":35},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":48},"end":{"line":37,"column":10}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":80},"end":{"line":28,"column":81}},"loc":{"start":{"line":28,"column":93},"end":{"line":37,"column":9}},"line":28},"12":{"name":"(anonymous_12)","decl":{"start":{"line":38,"column":22},"end":{"line":38,"column":23}},"loc":{"start":{"line":38,"column":38},"end":{"line":40,"column":10}},"line":38},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":70},"end":{"line":38,"column":71}},"loc":{"start":{"line":38,"column":83},"end":{"line":40,"column":9}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":41,"column":30},"end":{"line":41,"column":31}},"loc":{"start":{"line":41,"column":76},"end":{"line":63,"column":10}},"line":41},"15":{"name":"(anonymous_15)","decl":{"start":{"line":41,"column":108},"end":{"line":41,"column":109}},"loc":{"start":{"line":41,"column":121},"end":{"line":63,"column":9}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":23,"column":12},"end":{"line":26,"column":96}},"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":26,"column":96}},{"start":{"line":23,"column":12},"end":{"line":26,"column":96}}],"line":23},"6":{"loc":{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},{"start":{"line":44,"column":12},"end":{"line":46,"column":13}}],"line":44},"7":{"loc":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"type":"if","locations":[{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},{"start":{"line":48,"column":12},"end":{"line":50,"column":13}}],"line":48}},"s":{"0":1,"1":25,"2":0,"3":16,"4":24,"5":24,"6":2,"7":1,"8":1,"9":1,"10":37,"11":16,"12":1,"13":1,"14":1,"15":1,"16":14,"17":14,"18":14,"19":14,"20":14,"21":6,"22":6,"23":6,"24":4,"25":2,"26":14,"27":2,"28":2,"29":2,"30":4,"31":1,"32":14,"33":5,"34":5,"35":14,"36":3,"37":3,"38":3,"39":2,"40":3,"41":1,"42":2,"43":2,"44":2,"45":2,"46":2,"47":2,"48":2,"49":2,"50":2,"51":1},"f":{"0":16,"1":25,"2":0,"3":16,"4":24,"5":1,"6":37,"7":14,"8":6,"9":6,"10":2,"11":2,"12":5,"13":5,"14":3,"15":3},"b":{"0":[1,1,1],"1":[25,0],"2":[16,16],"3":[12,25],"4":[16,16],"5":[4,2],"6":[2,1],"7":[1,2]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/account.write.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/account.write.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8CAA4C;AAC5C,8CAA6D;AAI7D,MAAa,mBAAmB;IAC9B,YACU,kBAAuC,EACvC,sBAA+C,EAC/C,kBAAuC,EACvC,eAAiC;QAHjC,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,2BAAsB,GAAtB,sBAAsB,CAAyB;QAC/C,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,oBAAe,GAAf,eAAe,CAAkB;QAGpC,WAAM,GAAG,CAAO,EAAE,QAAQ,EAAE,OAAO,EAAyB,EAA6B,EAAE;YAChG,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC5D,IAAI,IAAI;gBAAE,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;;gBACtE,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAA,CAAC;QAEK,wBAAmB,GAAG,CAAO,OAAe,EAAiB,EAAE;YACpE,IAAI;gBACF,KAAK,MAAM,QAAQ,IAAI,oBAAU,EAAE;oBACjC,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC;iBAC1C;aACF;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,wBAAW,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;aACxD;QACH,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,CAAO,UAAiC,EAA6B,EAAE;YACrF,OAAO,MAAM,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAC9D,CAAC,CAAA,CAAC;QAEK,mBAAc,GAAG,CACtB,YAA8B,EAC9B,UAA4B,EAC5B,MAAc,EACd,MAAc,EAC6D,EAAE;YAC7E,IAAI,WAAW,GAAG,MAAM,CAAC;YACzB,eAAe;YACf,IAAI,UAAU,CAAC,OAAO,KAAK,MAAM,EAAE;gBACjC,WAAW,GAAG,IAAA,uBAAa,EAAC,MAAM,CAAC,CAAC;aACrC;YACD,eAAe;YACf,IAAI,YAAY,CAAC,OAAO,GAAG,WAAW,GAAG,CAAC,EAAE;gBAC1C,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC;aACnE;YACD,iBAAiB;YACjB,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,GAAG,WAAW,CAAC;YAC1D,oBAAoB;YACpB,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YACpF,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACxF,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;YACxF,MAAM,SAAS,GAAG,MAAM,GAAG,UAAU,CAAC;YACtC,eAAe;YACf,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC;YAEpD,MAAM,oBAAoB,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,YAAY,CAAC,OAAO,EAAE,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC;YACvG,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,UAAU,CAAC,OAAO,EAAE,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjG,OAAO,EAAE,YAAY,EAAE,oBAAoB,EAAE,UAAU,EAAE,kBAAkB,EAAE,CAAC;QAChF,CAAC,CAAA,CAAC;IAlDC,CAAC;CAmDL;AAzDD,kDAyDC","sourcesContent":["import { IAccountWriteRepository, IUserReadRepository } from '../repositories/interfaces';\r\nimport { CustomError } from '../interfaces';\r\nimport { addOnePercent, currencies } from '../utils/helpers';\r\nimport { AccountCreateInputDTO, AccountOutputDTO, AccountUpdateInputDTO } from './data-transfer-objects';\r\nimport { IAccountReadService, IAccountWriteService, IRateReadService } from './interfaces';\r\n\r\nexport class AccountWriteService implements IAccountWriteService {\r\n  constructor(\r\n    private accountReadService: IAccountReadService,\r\n    private accountWriteRepository: IAccountWriteRepository,\r\n    private userReadRepository: IUserReadRepository,\r\n    private rateReadService: IRateReadService,\r\n  ) {}\r\n\r\n  public create = async ({ currency, id_user }: AccountCreateInputDTO): Promise<AccountOutputDTO> => {\r\n    const user = await this.userReadRepository.getByID(id_user);\r\n    if (user) return this.accountWriteRepository.create({ id_user, currency });\r\n    else throw new CustomError('VALIDATION_ERROR', ['Invalid credentials']);\r\n  };\r\n\r\n  public createUsersAccounts = async (id_user: number): Promise<void> => {\r\n    try {\r\n      for (const currency of currencies) {\r\n        await this.create({ currency, id_user });\r\n      }\r\n    } catch (error: any) {\r\n      throw new CustomError(error.errorType, error.messages);\r\n    }\r\n  };\r\n\r\n  public update = async (updateInfo: AccountUpdateInputDTO): Promise<AccountOutputDTO> => {\r\n    return await this.accountWriteRepository.update(updateInfo);\r\n  };\r\n\r\n  public updateAccounts = async (\r\n    account_from: AccountOutputDTO,\r\n    account_to: AccountOutputDTO,\r\n    amount: number,\r\n    userId: number,\r\n  ): Promise<{ account_from: AccountOutputDTO; account_to: AccountOutputDTO }> => {\r\n    let amount_from = amount;\r\n    //add comission\r\n    if (account_to.id_user !== userId) {\r\n      amount_from = addOnePercent(amount);\r\n    }\r\n    //check balance\r\n    if (account_from.balance - amount_from < 0) {\r\n      throw new CustomError('VALIDATION_ERROR', ['Insufficient funds']);\r\n    }\r\n    //substract funds\r\n    account_from.balance = account_from.balance - amount_from;\r\n    //convert the amount\r\n    const currency_to = await this.accountReadService.getAccountCurrency(account_to.id);\r\n    const currency_from = await this.accountReadService.getAccountCurrency(account_from.id);\r\n    const multiplier = await this.rateReadService.getMultiplier(currency_from, currency_to);\r\n    const amount_to = amount * multiplier;\r\n    //deposit funds\r\n    account_to.balance = account_to.balance + amount_to;\r\n\r\n    const account_from_updated = await this.update({ balance: account_from.balance, id: account_from.id });\r\n    const account_to_updated = await this.update({ balance: account_to.balance, id: account_to.id });\r\n    return { account_from: account_from_updated, account_to: account_to_updated };\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"91e56282c9e94c4772c0d03ff050a8f0361a5707","contentHash":"2fc80299f1c91cb22ee5c1e2665107f0cb80ee166593884f6e64ba70cfa9812f"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\utils\\helpers.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\utils\\helpers.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":81}},"26":{"start":{"line":27,"column":15},"end":{"line":27,"column":46}},"27":{"start":{"line":28,"column":0},"end":{"line":28,"column":16}},"28":{"start":{"line":29,"column":16},"end":{"line":29,"column":35}},"29":{"start":{"line":30,"column":0},"end":{"line":30,"column":40}},"30":{"start":{"line":31,"column":0},"end":{"line":39,"column":2}},"31":{"start":{"line":40,"column":22},"end":{"line":43,"column":1}},"32":{"start":{"line":41,"column":23},"end":{"line":41,"column":38}},"33":{"start":{"line":42,"column":4},"end":{"line":42,"column":28}},"34":{"start":{"line":44,"column":0},"end":{"line":44,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":40,"column":22},"end":{"line":40,"column":23}},"loc":{"start":{"line":40,"column":31},"end":{"line":43,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":2,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":2,"21":2,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":2,"33":2,"34":1},"f":{"0":2,"1":1,"2":0,"3":1,"4":0,"5":1,"6":2},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[2,0],"15":[2,2]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/utils/helpers.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/utils/helpers.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+CAAiC;AACjC,MAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,OAAiB,CAAC;AAEjC,QAAA,UAAU,GAAa,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAE1C,QAAA,kBAAkB,GAAG;IAChC,gBAAgB,EAAE,GAAG;IACrB,kBAAkB,EAAE,GAAG;IACvB,eAAe,EAAE,GAAG;IACpB,eAAe,EAAE,GAAG;IACpB,cAAc,EAAE,GAAG;IACnB,qBAAqB,EAAE,GAAG;IAC1B,gEAAgE;CACjE,CAAC;AAEK,MAAM,aAAa,GAAG,CAAC,GAAW,EAAU,EAAE;IACnD,MAAM,UAAU,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,mCAAmC;IACvE,OAAO,GAAG,GAAG,UAAU,CAAC,CAAC,6BAA6B;AACxD,CAAC,CAAC;AAHW,QAAA,aAAa,iBAGxB","sourcesContent":["import * as dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst SYMBOLS = process.env.SYMBOLS as string;\r\n\r\nexport const currencies: string[] = SYMBOLS.split(',');\r\n\r\nexport const errorStatusCodeMap = {\r\n  VALIDATION_ERROR: 400,\r\n  UNAUTHORIZED_ERROR: 401,\r\n  FORBIDDEN_ERROR: 403,\r\n  NOT_FOUND_ERROR: 404,\r\n  CONFLICT_ERROR: 409,\r\n  INTERNAL_SERVER_ERROR: 500,\r\n  // Add more error types and corresponding status codes as needed\r\n};\r\n\r\nexport const addOnePercent = (num: number): number => {\r\n  const onePercent = (num * 1) / 100; // Calculate 1% of the input number\r\n  return num + onePercent; // Add 1% to the input number\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dac47ae1d72e18ae8fc2099b769cda1c2d9c3494","contentHash":"7fa1d21ba6449f82eb53df7e7731b7c1c770de98455fd4b6f70a8527de27407d"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\rate.read.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\rate.read.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":53}},"16":{"start":{"line":17,"column":8},"end":{"line":19,"column":11}},"17":{"start":{"line":17,"column":28},"end":{"line":19,"column":10}},"18":{"start":{"line":18,"column":12},"end":{"line":18,"column":52}},"19":{"start":{"line":20,"column":8},"end":{"line":27,"column":11}},"20":{"start":{"line":20,"column":61},"end":{"line":27,"column":10}},"21":{"start":{"line":21,"column":30},"end":{"line":21,"column":82}},"22":{"start":{"line":22,"column":28},"end":{"line":22,"column":78}},"23":{"start":{"line":23,"column":12},"end":{"line":26,"column":100}},"24":{"start":{"line":24,"column":16},"end":{"line":24,"column":71}},"25":{"start":{"line":26,"column":16},"end":{"line":26,"column":100}},"26":{"start":{"line":28,"column":8},"end":{"line":30,"column":10}},"27":{"start":{"line":29,"column":12},"end":{"line":29,"column":81}},"28":{"start":{"line":33,"column":0},"end":{"line":33,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":36},"end":{"line":31,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":28},"end":{"line":19,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":60},"end":{"line":17,"column":61}},"loc":{"start":{"line":17,"column":73},"end":{"line":19,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":29},"end":{"line":20,"column":30}},"loc":{"start":{"line":20,"column":61},"end":{"line":27,"column":10}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":93},"end":{"line":20,"column":94}},"loc":{"start":{"line":20,"column":106},"end":{"line":27,"column":9}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":28,"column":23},"end":{"line":28,"column":24}},"loc":{"start":{"line":28,"column":29},"end":{"line":30,"column":9}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":23,"column":12},"end":{"line":26,"column":100}},"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":26,"column":100}},{"start":{"line":23,"column":12},"end":{"line":26,"column":100}}],"line":23},"6":{"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":36}},"type":"binary-expr","locations":[{"start":{"line":23,"column":16},"end":{"line":23,"column":25}},{"start":{"line":23,"column":29},"end":{"line":23,"column":36}}],"line":23}},"s":{"0":1,"1":4,"2":0,"3":3,"4":4,"5":4,"6":1,"7":0,"8":0,"9":0,"10":6,"11":3,"12":1,"13":1,"14":1,"15":10,"16":10,"17":1,"18":1,"19":10,"20":2,"21":2,"22":2,"23":2,"24":1,"25":1,"26":10,"27":1,"28":1},"f":{"0":3,"1":4,"2":0,"3":3,"4":4,"5":0,"6":6,"7":10,"8":1,"9":1,"10":2,"11":2,"12":1},"b":{"0":[1,1,1],"1":[4,0],"2":[3,3],"3":[2,4],"4":[3,3],"5":[1,1],"6":[2,2]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/rate.read.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/rate.read.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8CAA4C;AAI5C,MAAa,eAAe;IAC1B,YAAoB,kBAAuC;QAAvC,uBAAkB,GAAlB,kBAAkB,CAAqB;QAEpD,WAAM,GAAG,GAAmC,EAAE;YACnD,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QAC1C,CAAC,CAAA,CAAC;QAEK,kBAAa,GAAG,CAAO,aAAqB,EAAE,WAAmB,EAAmB,EAAE;YAC3F,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YACvE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACnE,IAAI,SAAS,IAAI,OAAO;gBAAE,OAAO,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;;gBAC5E,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAC9E,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,GAA2B,EAAE;YAC5C,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IAf4D,CAAC;CAgBhE;AAjBD,0CAiBC","sourcesContent":["import { IRateReadRepository } from '../repositories/interfaces';\r\nimport { CustomError } from '../interfaces';\r\nimport { IRateReadService } from './interfaces';\r\nimport { RateOutputDTO } from './data-transfer-objects';\r\n\r\nexport class RateReadService implements IRateReadService {\r\n  constructor(private rateReadRepository: IRateReadRepository) {}\r\n\r\n  public getAll = async (): Promise<RateOutputDTO[]> => {\r\n    return this.rateReadRepository.getAll();\r\n  };\r\n\r\n  public getMultiplier = async (currency_from: string, currency_to: string): Promise<number> => {\r\n    const rate_from = await this.rateReadRepository.getByID(currency_from);\r\n    const rate_to = await this.rateReadRepository.getByID(currency_to);\r\n    if (rate_from && rate_to) return rate_from.rates.USD_FROM * rate_to.rates.USD_TO;\r\n    else throw new CustomError('VALIDATION_ERROR', ['Could not make transfer']);\r\n  };\r\n\r\n  public getByID = (): Promise<RateOutputDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3fbc847f7e93f237fe88f284f7accb12fa4ed74c","contentHash":"fcd681f0333a6c6f3a44b916d86f46e1510ef4efeaaa00a960a124eb1048ddbd"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\rate.write.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\rate.write.service.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":0},"end":{"line":34,"column":62}},"37":{"start":{"line":35,"column":0},"end":{"line":35,"column":34}},"38":{"start":{"line":36,"column":15},"end":{"line":36,"column":46}},"39":{"start":{"line":37,"column":0},"end":{"line":37,"column":16}},"40":{"start":{"line":38,"column":13},"end":{"line":38,"column":29}},"41":{"start":{"line":41,"column":8},"end":{"line":41,"column":53}},"42":{"start":{"line":42,"column":8},"end":{"line":42,"column":55}},"43":{"start":{"line":43,"column":8},"end":{"line":52,"column":11}},"44":{"start":{"line":43,"column":51},"end":{"line":52,"column":10}},"45":{"start":{"line":44,"column":30},"end":{"line":44,"column":73}},"46":{"start":{"line":45,"column":28},"end":{"line":45,"column":64}},"47":{"start":{"line":47,"column":12},"end":{"line":50,"column":89}},"48":{"start":{"line":48,"column":16},"end":{"line":48,"column":69}},"49":{"start":{"line":50,"column":16},"end":{"line":50,"column":89}},"50":{"start":{"line":51,"column":12},"end":{"line":51,"column":26}},"51":{"start":{"line":53,"column":8},"end":{"line":59,"column":10}},"52":{"start":{"line":54,"column":12},"end":{"line":58,"column":13}},"53":{"start":{"line":55,"column":16},"end":{"line":55,"column":50}},"54":{"start":{"line":57,"column":16},"end":{"line":57,"column":90}},"55":{"start":{"line":60,"column":8},"end":{"line":62,"column":11}},"56":{"start":{"line":60,"column":35},"end":{"line":62,"column":10}},"57":{"start":{"line":61,"column":12},"end":{"line":61,"column":66}},"58":{"start":{"line":65,"column":0},"end":{"line":65,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":57},"end":{"line":63,"column":5}},"line":40},"14":{"name":"(anonymous_14)","decl":{"start":{"line":43,"column":22},"end":{"line":43,"column":23}},"loc":{"start":{"line":43,"column":51},"end":{"line":52,"column":10}},"line":43},"15":{"name":"(anonymous_15)","decl":{"start":{"line":43,"column":83},"end":{"line":43,"column":84}},"loc":{"start":{"line":43,"column":96},"end":{"line":52,"column":9}},"line":43},"16":{"name":"(anonymous_16)","decl":{"start":{"line":53,"column":26},"end":{"line":53,"column":27}},"loc":{"start":{"line":53,"column":51},"end":{"line":59,"column":9}},"line":53},"17":{"name":"(anonymous_17)","decl":{"start":{"line":60,"column":22},"end":{"line":60,"column":23}},"loc":{"start":{"line":60,"column":35},"end":{"line":62,"column":10}},"line":60},"18":{"name":"(anonymous_18)","decl":{"start":{"line":60,"column":67},"end":{"line":60,"column":68}},"loc":{"start":{"line":60,"column":80},"end":{"line":62,"column":9}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":47,"column":12},"end":{"line":50,"column":89}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":50,"column":89}},{"start":{"line":47,"column":12},"end":{"line":50,"column":89}}],"line":47},"22":{"loc":{"start":{"line":54,"column":12},"end":{"line":58,"column":13}},"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":58,"column":13}},{"start":{"line":54,"column":12},"end":{"line":58,"column":13}}],"line":54}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":2,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":2,"21":2,"22":1,"23":1,"24":1,"25":5,"26":0,"27":3,"28":5,"29":5,"30":0,"31":0,"32":0,"33":0,"34":8,"35":3,"36":1,"37":1,"38":1,"39":1,"40":1,"41":6,"42":6,"43":6,"44":2,"45":2,"46":2,"47":2,"48":1,"49":1,"50":2,"51":6,"52":2,"53":0,"54":2,"55":6,"56":1,"57":1,"58":1},"f":{"0":2,"1":1,"2":0,"3":1,"4":0,"5":1,"6":3,"7":5,"8":0,"9":3,"10":5,"11":0,"12":8,"13":6,"14":2,"15":2,"16":2,"17":1,"18":1},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[2,0],"15":[2,2],"16":[1,1,1],"17":[5,0],"18":[3,3],"19":[3,5],"20":[3,3],"21":[1,1],"22":[0,2]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/rate.write.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/rate.write.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,+CAAiC;AACjC,MAAM,CAAC,MAAM,EAAE,CAAC;AAChB,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAc,CAAC;AAExC,MAAa,gBAAgB;IAC3B,YAAoB,kBAAuC,EAAU,mBAAyC;QAA1F,uBAAkB,GAAlB,kBAAkB,CAAqB;QAAU,wBAAmB,GAAnB,mBAAmB,CAAsB;QAEvG,WAAM,GAAG,CAAO,EAAE,IAAI,EAAE,aAAa,EAAsB,EAA0B,EAAE;YAC5F,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC9D,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,MAAqB,CAAC;YAC1B,IAAI,SAAS;gBAAE,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;;gBAC/D,MAAM,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;YAC9E,OAAO,MAAM,CAAC;QAChB,CAAC,CAAA,CAAC;QAEM,eAAU,GAAG,CAAC,aAAoB,EAAE,IAAY,EAAE,EAAE;YAC1D,IAAI,IAAI,KAAK,IAAI;gBAAE,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;iBAChD;gBACH,OAAO,EAAE,MAAM,EAAE,aAAa,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;aAC3E;QACH,CAAC,CAAC;QAEK,WAAM,GAAG,CAAO,OAA2B,EAA0B,EAAE;YAC5E,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACxD,CAAC,CAAA,CAAC;IApB+G,CAAC;CAqBnH;AAtBD,4CAsBC","sourcesContent":["import { Rates } from '../interfaces';\r\nimport { IRateReadRepository, IRateWriteRepository } from '../repositories/interfaces';\r\nimport { IRateWriteService } from './interfaces';\r\nimport { RateCreateInputDTO, RateOutputDTO, RateUpdateInputDTO } from './data-transfer-objects';\r\n\r\nimport * as dotenv from 'dotenv';\r\ndotenv.config();\r\nconst BASE = process.env.BASE as string;\r\n\r\nexport class RateWriteService implements IRateWriteService {\r\n  constructor(private rateReadRepository: IRateReadRepository, private rateWriteRepository: IRateWriteRepository) {}\r\n\r\n  public create = async ({ name, referenceRate }: RateCreateInputDTO): Promise<RateOutputDTO> => {\r\n    const savedRate = await this.rateReadRepository.getByID(name);\r\n    const newRate = this.createRate(referenceRate, name);\r\n    let result: RateOutputDTO;\r\n    if (savedRate) result = await this.update({ name, rates: newRate });\r\n    else result = await this.rateWriteRepository.create({ name, rates: newRate });\r\n    return result;\r\n  };\r\n\r\n  private createRate = (referenceRate: Rates, name: string) => {\r\n    if (name === BASE) return { USD_TO: 1, USD_FROM: 1 };\r\n    else {\r\n      return { USD_TO: referenceRate[name], USD_FROM: 1 / referenceRate[name] };\r\n    }\r\n  };\r\n\r\n  public update = async (newRate: RateUpdateInputDTO): Promise<RateOutputDTO> => {\r\n    return await this.rateWriteRepository.update(newRate);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b1b1bfed48f2666e29fc31c3271752b3d12f826","contentHash":"20ae850eb09c794fb1494f75d9dd6be15577ef5500380aa8daf3417a55a20fba"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\user.read.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\user.read.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":53}},"16":{"start":{"line":17,"column":8},"end":{"line":19,"column":11}},"17":{"start":{"line":17,"column":28},"end":{"line":19,"column":10}},"18":{"start":{"line":18,"column":12},"end":{"line":18,"column":52}},"19":{"start":{"line":20,"column":8},"end":{"line":26,"column":11}},"20":{"start":{"line":20,"column":37},"end":{"line":26,"column":10}},"21":{"start":{"line":21,"column":25},"end":{"line":21,"column":72}},"22":{"start":{"line":22,"column":12},"end":{"line":25,"column":96}},"23":{"start":{"line":23,"column":16},"end":{"line":23,"column":28}},"24":{"start":{"line":25,"column":16},"end":{"line":25,"column":96}},"25":{"start":{"line":27,"column":8},"end":{"line":33,"column":11}},"26":{"start":{"line":27,"column":31},"end":{"line":33,"column":10}},"27":{"start":{"line":28,"column":25},"end":{"line":28,"column":66}},"28":{"start":{"line":29,"column":12},"end":{"line":32,"column":96}},"29":{"start":{"line":30,"column":16},"end":{"line":30,"column":28}},"30":{"start":{"line":32,"column":16},"end":{"line":32,"column":96}},"31":{"start":{"line":36,"column":0},"end":{"line":36,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":36},"end":{"line":34,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":28},"end":{"line":19,"column":10}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":60},"end":{"line":17,"column":61}},"loc":{"start":{"line":17,"column":73},"end":{"line":19,"column":9}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":26},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":37},"end":{"line":26,"column":10}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":69},"end":{"line":20,"column":70}},"loc":{"start":{"line":20,"column":82},"end":{"line":26,"column":9}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":27,"column":23},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":31},"end":{"line":33,"column":10}},"line":27},"13":{"name":"(anonymous_13)","decl":{"start":{"line":27,"column":63},"end":{"line":27,"column":64}},"loc":{"start":{"line":27,"column":76},"end":{"line":33,"column":9}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":22,"column":12},"end":{"line":25,"column":96}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":25,"column":96}},{"start":{"line":22,"column":12},"end":{"line":25,"column":96}}],"line":22},"6":{"loc":{"start":{"line":29,"column":12},"end":{"line":32,"column":96}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":32,"column":96}},{"start":{"line":29,"column":12},"end":{"line":32,"column":96}}],"line":29}},"s":{"0":1,"1":4,"2":0,"3":5,"4":4,"5":4,"6":2,"7":0,"8":0,"9":0,"10":7,"11":5,"12":1,"13":1,"14":1,"15":8,"16":8,"17":1,"18":1,"19":8,"20":2,"21":2,"22":2,"23":1,"24":1,"25":8,"26":2,"27":2,"28":2,"29":1,"30":1,"31":1},"f":{"0":5,"1":4,"2":0,"3":5,"4":4,"5":0,"6":7,"7":8,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2},"b":{"0":[1,1,1],"1":[4,0],"2":[5,5],"3":[3,4],"4":[5,5],"5":[1,1],"6":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/user.read.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/user.read.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,8CAA4C;AAK5C,MAAa,eAAe;IAC1B,YAAoB,kBAAuC;QAAvC,uBAAkB,GAAlB,kBAAkB,CAAqB;QAEpD,WAAM,GAAG,GAAmC,EAAE;YACnD,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QAC1C,CAAC,CAAA,CAAC;QAEK,eAAU,GAAG,CAAO,KAAa,EAA0B,EAAE;YAClE,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAC7D,IAAI,IAAI;gBAAE,OAAO,IAAI,CAAC;;gBACjB,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,CAAO,EAAiB,EAA0B,EAAE;YACnE,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACvD,IAAI,IAAI;gBAAE,OAAO,IAAI,CAAC;;gBACjB,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAA,CAAC;IAhB4D,CAAC;CAiBhE;AAlBD,0CAkBC","sourcesContent":["import { CustomError } from '../interfaces';\r\nimport { IUserReadService } from './interfaces';\r\nimport { IUserReadRepository } from '../repositories/interfaces';\r\nimport { UserGetterDTO, UserOutputDTO } from './data-transfer-objects';\r\n\r\nexport class UserReadService implements IUserReadService {\r\n  constructor(private userReadRepository: IUserReadRepository) {}\r\n\r\n  public getAll = async (): Promise<UserOutputDTO[]> => {\r\n    return this.userReadRepository.getAll();\r\n  };\r\n\r\n  public getByEmail = async (email: string): Promise<UserOutputDTO> => {\r\n    const user = await this.userReadRepository.getByEmail(email);\r\n    if (user) return user;\r\n    else throw new CustomError('VALIDATION_ERROR', ['Invalid credentials']);\r\n  };\r\n\r\n  public getByID = async (id: UserGetterDTO): Promise<UserOutputDTO> => {\r\n    const user = await this.userReadRepository.getByID(id);\r\n    if (user) return user;\r\n    else throw new CustomError('VALIDATION_ERROR', ['Invalid credentials']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"66807d53d3e21798291fe873985ab82c774d8f45","contentHash":"170f320ce238f05d7702e5d5828e947aeb1730c8de09d5e81c475d3eb150fa18"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\user.write.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\user.write.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"14":{"start":{"line":13,"column":17},"end":{"line":13,"column":34}},"15":{"start":{"line":14,"column":21},"end":{"line":14,"column":45}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":53}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":55}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":55}},"19":{"start":{"line":20,"column":8},"end":{"line":34,"column":11}},"20":{"start":{"line":20,"column":32},"end":{"line":34,"column":10}},"21":{"start":{"line":21,"column":12},"end":{"line":33,"column":13}},"22":{"start":{"line":22,"column":33},"end":{"line":22,"column":85}},"23":{"start":{"line":23,"column":16},"end":{"line":24,"column":120}},"24":{"start":{"line":24,"column":20},"end":{"line":24,"column":120}},"25":{"start":{"line":25,"column":33},"end":{"line":25,"column":76}},"26":{"start":{"line":26,"column":32},"end":{"line":26,"column":123}},"27":{"start":{"line":28,"column":16},"end":{"line":28,"column":73}},"28":{"start":{"line":29,"column":16},"end":{"line":29,"column":31}},"29":{"start":{"line":32,"column":16},"end":{"line":32,"column":84}},"30":{"start":{"line":35,"column":8},"end":{"line":37,"column":10}},"31":{"start":{"line":36,"column":12},"end":{"line":36,"column":81}},"32":{"start":{"line":40,"column":0},"end":{"line":40,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":78},"end":{"line":38,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":22},"end":{"line":20,"column":23}},"loc":{"start":{"line":20,"column":32},"end":{"line":34,"column":10}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":64},"end":{"line":20,"column":65}},"loc":{"start":{"line":20,"column":77},"end":{"line":34,"column":9}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":35,"column":22},"end":{"line":35,"column":23}},"loc":{"start":{"line":35,"column":28},"end":{"line":37,"column":9}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":23,"column":16},"end":{"line":24,"column":120}},"type":"if","locations":[{"start":{"line":23,"column":16},"end":{"line":24,"column":120}},{"start":{"line":23,"column":16},"end":{"line":24,"column":120}}],"line":23}},"s":{"0":1,"1":4,"2":0,"3":2,"4":4,"5":4,"6":1,"7":0,"8":0,"9":0,"10":5,"11":2,"12":1,"13":1,"14":1,"15":1,"16":8,"17":8,"18":8,"19":8,"20":2,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":8,"31":1,"32":1},"f":{"0":2,"1":4,"2":0,"3":2,"4":4,"5":0,"6":5,"7":8,"8":2,"9":2,"10":1},"b":{"0":[1,1,1],"1":[4,0],"2":[2,2],"3":[1,4],"4":[2,2],"5":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/user.write.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/user.write.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,mCAA8B;AAC9B,8CAA4C;AAK5C,MAAa,gBAAgB;IAC3B,YACU,kBAAuC,EACvC,mBAAyC,EACzC,mBAAyC;QAFzC,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,wBAAmB,GAAnB,mBAAmB,CAAsB;QACzC,wBAAmB,GAAnB,mBAAmB,CAAsB;QAG5C,WAAM,GAAG,CAAO,IAAwB,EAA0B,EAAE;YACzE,IAAI;gBACF,MAAM,QAAQ,GAA8B,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjG,IAAI,QAAQ;oBAAE,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,cAAc,IAAI,CAAC,KAAK,iBAAiB,CAAC,CAAC,CAAC;gBAErG,MAAM,QAAQ,GAAG,MAAM,IAAA,aAAI,EAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;gBAC/C,MAAM,OAAO,GAAkB,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,iCAAM,IAAI,KAAE,QAAQ,IAAG,CAAC;gBAC5F,wBAAwB;gBACxB,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACzD,OAAO,OAAO,CAAC;aAChB;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,wBAAW,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;aACxD;QACH,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,GAA2B,EAAE;YAC3C,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IAnBC,CAAC;CAoBL;AAzBD,4CAyBC","sourcesContent":["import { hash } from 'bcrypt';\r\nimport { CustomError } from '../interfaces';\r\nimport { IAccountWriteService, IUserWriteService } from './interfaces';\r\nimport { IUserReadRepository, IUserWriteRepository } from '../repositories/interfaces';\r\nimport { UserOutputDTO, UserCreateInputDTO } from './data-transfer-objects';\r\n\r\nexport class UserWriteService implements IUserWriteService {\r\n  constructor(\r\n    private userReadRepository: IUserReadRepository,\r\n    private userWriteRepository: IUserWriteRepository,\r\n    private accountWriteService: IAccountWriteService,\r\n  ) {}\r\n\r\n  public create = async (user: UserCreateInputDTO): Promise<UserOutputDTO> => {\r\n    try {\r\n      const findUser: UserOutputDTO | undefined = await this.userReadRepository.getByEmail(user.email);\r\n      if (findUser) throw new CustomError('VALIDATION_ERROR', [`This email ${user.email} already exists`]);\r\n\r\n      const password = await hash(user.password, 10);\r\n      const newUser: UserOutputDTO = await this.userWriteRepository.create({ ...user, password });\r\n      //create user's accounts\r\n      this.accountWriteService.createUsersAccounts(newUser.id);\r\n      return newUser;\r\n    } catch (error: any) {\r\n      throw new CustomError(error.errorType, error.messages);\r\n    }\r\n  };\r\n\r\n  public update = (): Promise<UserOutputDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"eeea677178e5bd48346644d8220d04509799876d","contentHash":"cc3a76304ce6073f37b5f48184bf812b1d353889120f0052e0d2ed74ce0f6338"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\transaction.read.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\transaction.read.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":67}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":53}},"17":{"start":{"line":18,"column":8},"end":{"line":38,"column":11}},"18":{"start":{"line":18,"column":51},"end":{"line":38,"column":10}},"19":{"start":{"line":19,"column":12},"end":{"line":37,"column":13}},"20":{"start":{"line":20,"column":37},"end":{"line":20,"column":81}},"21":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"22":{"start":{"line":22,"column":20},"end":{"line":22,"column":112}},"23":{"start":{"line":24,"column":40},"end":{"line":26,"column":18}},"24":{"start":{"line":25,"column":20},"end":{"line":25,"column":30}},"25":{"start":{"line":27,"column":40},"end":{"line":27,"column":114}},"26":{"start":{"line":28,"column":16},"end":{"line":32,"column":19}},"27":{"start":{"line":29,"column":20},"end":{"line":31,"column":74}},"28":{"start":{"line":33,"column":16},"end":{"line":33,"column":41}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":84}},"30":{"start":{"line":39,"column":8},"end":{"line":41,"column":10}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":81}},"32":{"start":{"line":44,"column":0},"end":{"line":44,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":63},"end":{"line":42,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":51},"end":{"line":38,"column":10}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":83},"end":{"line":18,"column":84}},"loc":{"start":{"line":18,"column":96},"end":{"line":38,"column":9}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":24,"column":57},"end":{"line":24,"column":58}},"loc":{"start":{"line":24,"column":69},"end":{"line":26,"column":17}},"line":24},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":61},"end":{"line":28,"column":62}},"loc":{"start":{"line":28,"column":94},"end":{"line":32,"column":17}},"line":28},"12":{"name":"(anonymous_12)","decl":{"start":{"line":39,"column":23},"end":{"line":39,"column":24}},"loc":{"start":{"line":39,"column":29},"end":{"line":41,"column":9}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"6":{"loc":{"start":{"line":29,"column":28},"end":{"line":31,"column":72}},"type":"binary-expr","locations":[{"start":{"line":29,"column":29},"end":{"line":29,"column":54}},{"start":{"line":29,"column":58},"end":{"line":29,"column":99}},{"start":{"line":30,"column":25},"end":{"line":30,"column":42}},{"start":{"line":30,"column":46},"end":{"line":30,"column":75}},{"start":{"line":31,"column":25},"end":{"line":31,"column":40}},{"start":{"line":31,"column":44},"end":{"line":31,"column":71}}],"line":29}},"s":{"0":1,"1":3,"2":0,"3":2,"4":3,"5":3,"6":1,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":9,"16":9,"17":9,"18":2,"19":2,"20":2,"21":2,"22":1,"23":1,"24":2,"25":1,"26":1,"27":1,"28":1,"29":1,"30":9,"31":1,"32":1},"f":{"0":2,"1":3,"2":0,"3":2,"4":3,"5":0,"6":4,"7":9,"8":2,"9":2,"10":2,"11":1,"12":1},"b":{"0":[1,1,1],"1":[3,0],"2":[2,2],"3":[1,3],"4":[2,2],"5":[1,1],"6":[1,0,1,0,1,0]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/transaction.read.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/transaction.read.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,8CAA4C;AAK5C,MAAa,sBAAsB;IACjC,YAAoB,yBAAqD,EAAU,kBAAuC;QAAtG,8BAAyB,GAAzB,yBAAyB,CAA4B;QAAU,uBAAkB,GAAlB,kBAAkB,CAAqB;QAEnH,WAAM,GAAG,CAAO,EAAE,MAAM,EAAE,WAAW,EAAwB,EAAmC,EAAE;YACvG,IAAI;gBACF,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAClE,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC7B,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,kCAAkC,CAAC,CAAC,CAAC;iBAChF;gBACD,MAAM,eAAe,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;oBAClD,OAAO,EAAE,CAAC;gBACZ,CAAC,CAAC,CAAC;gBACH,IAAI,iBAAiB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,eAAe,CAAC,CAAC;gBACnG,iBAAiB,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,EAAE,EAAE;oBAC3E,OAAO,CACL,CAAC,CAAC,WAAW,CAAC,YAAY,IAAI,YAAY,KAAK,WAAW,CAAC,YAAY,CAAC;wBACxE,CAAC,CAAC,WAAW,CAAC,IAAI,IAAI,SAAS,IAAI,WAAW,CAAC,IAAI,CAAC;wBACpD,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,SAAS,IAAI,WAAW,CAAC,EAAE,CAAC,CACjD,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,OAAO,iBAAiB,CAAC;aAC1B;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,wBAAW,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;aACxD;QACH,CAAC,CAAA,CAAC;QAEK,YAAO,GAAG,GAAkC,EAAE;YACnD,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IA3B2H,CAAC;CA4B/H;AA7BD,wDA6BC","sourcesContent":["import { CustomError } from '../interfaces';\r\nimport { ITransactionReadRepository } from '../repositories/interfaces';\r\nimport { TransactionOutputDTO, TransactionGetAllDTO } from './data-transfer-objects';\r\nimport { IAccountReadService, ITransactionReadService } from './interfaces';\r\n\r\nexport class TransactionReadService implements ITransactionReadService {\r\n  constructor(private transactionReadRepository: ITransactionReadRepository, private accountReadService: IAccountReadService) {}\r\n\r\n  public getAll = async ({ userId, queryParams }: TransactionGetAllDTO): Promise<TransactionOutputDTO[]> => {\r\n    try {\r\n      const userAccounts = await this.accountReadService.getAll(userId);\r\n      if (userAccounts.length === 0) {\r\n        throw new CustomError('NOT_FOUND_ERROR', [\"Couldn't get user's transactions\"]);\r\n      }\r\n      const usersAccountsID = userAccounts.map(({ id }) => {\r\n        return id;\r\n      });\r\n      let usersTransactions = await this.transactionReadRepository.getUsersTransactions(usersAccountsID);\r\n      usersTransactions = usersTransactions.filter(({ account_from, createdAt }) => {\r\n        return (\r\n          (!queryParams.account_from || account_from === queryParams.account_from) &&\r\n          (!queryParams.from || createdAt >= queryParams.from) &&\r\n          (!queryParams.to || createdAt <= queryParams.to)\r\n        );\r\n      });\r\n      return usersTransactions;\r\n    } catch (error: any) {\r\n      throw new CustomError(error.errorType, error.messages);\r\n    }\r\n  };\r\n\r\n  public getByID = (): Promise<TransactionOutputDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"545b4add5a0ce3ea7d6c411ec8a52a4e7e5f5e18","contentHash":"da6268db915c203eb9ad059fa2104500b5274fd52ddabca059a409c92f755657"},"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\transaction.write.service.ts":{"path":"C:\\Users\\agustina.mazzeo\\Desktop\\final-project\\backend\\src\\services\\transaction.write.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":69}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":55}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":53}},"18":{"start":{"line":19,"column":8},"end":{"line":35,"column":11}},"19":{"start":{"line":19,"column":52},"end":{"line":35,"column":10}},"20":{"start":{"line":20,"column":12},"end":{"line":34,"column":13}},"21":{"start":{"line":21,"column":31},"end":{"line":21,"column":46}},"22":{"start":{"line":22,"column":37},"end":{"line":22,"column":77}},"23":{"start":{"line":23,"column":37},"end":{"line":23,"column":96}},"24":{"start":{"line":23,"column":67},"end":{"line":23,"column":95}},"25":{"start":{"line":24,"column":16},"end":{"line":26,"column":17}},"26":{"start":{"line":25,"column":20},"end":{"line":25,"column":104}},"27":{"start":{"line":27,"column":35},"end":{"line":27,"column":93}},"28":{"start":{"line":28,"column":16},"end":{"line":28,"column":100}},"29":{"start":{"line":29,"column":39},"end":{"line":29,"column":93}},"30":{"start":{"line":30,"column":16},"end":{"line":30,"column":38}},"31":{"start":{"line":33,"column":16},"end":{"line":33,"column":84}},"32":{"start":{"line":36,"column":8},"end":{"line":38,"column":10}},"33":{"start":{"line":37,"column":12},"end":{"line":37,"column":81}},"34":{"start":{"line":41,"column":0},"end":{"line":41,"column":58}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":85},"end":{"line":39,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":22},"end":{"line":19,"column":23}},"loc":{"start":{"line":19,"column":52},"end":{"line":35,"column":10}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":84},"end":{"line":19,"column":85}},"loc":{"start":{"line":19,"column":97},"end":{"line":35,"column":9}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":23,"column":55},"end":{"line":23,"column":56}},"loc":{"start":{"line":23,"column":67},"end":{"line":23,"column":95}},"line":23},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":22},"end":{"line":36,"column":23}},"loc":{"start":{"line":36,"column":28},"end":{"line":38,"column":9}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":24,"column":16},"end":{"line":26,"column":17}},"type":"if","locations":[{"start":{"line":24,"column":16},"end":{"line":26,"column":17}},{"start":{"line":24,"column":16},"end":{"line":26,"column":17}}],"line":24}},"s":{"0":1,"1":10,"2":0,"3":4,"4":8,"5":8,"6":1,"7":2,"8":2,"9":2,"10":11,"11":4,"12":1,"13":1,"14":1,"15":9,"16":9,"17":9,"18":9,"19":4,"20":4,"21":4,"22":4,"23":4,"24":3,"25":4,"26":1,"27":3,"28":2,"29":1,"30":1,"31":3,"32":9,"33":1,"34":1},"f":{"0":4,"1":10,"2":0,"3":4,"4":8,"5":2,"6":11,"7":9,"8":4,"9":4,"10":3,"11":1},"b":{"0":[1,1,1],"1":[10,0],"2":[4,4],"3":[1,10],"4":[4,4],"5":[1,3]},"inputSourceMap":{"version":3,"file":"C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/transaction.write.service.ts","sources":["C:/Users/agustina.mazzeo/Desktop/final-project/backend/src/services/transaction.write.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8CAA4C;AAK5C,MAAa,uBAAuB;IAClC,YACU,0BAAuD,EACvD,mBAAyC,EACzC,kBAAuC;QAFvC,+BAA0B,GAA1B,0BAA0B,CAA6B;QACvD,wBAAmB,GAAnB,mBAAmB,CAAsB;QACzC,uBAAkB,GAAlB,kBAAkB,CAAqB;QAG1C,WAAM,GAAG,CAAO,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAuB,EAAiC,EAAE;YACrG,IAAI;gBACF,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAC/B,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBAC9D,MAAM,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,YAAY,KAAK,EAAE,CAAC,CAAC;gBACjF,IAAI,CAAC,YAAY,EAAE;oBACjB,MAAM,IAAI,wBAAW,CAAC,kBAAkB,EAAE,CAAC,yBAAyB,CAAC,CAAC,CAAC;iBACxE;gBACD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ;gBACvF,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,YAAY,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ;gBAE7F,MAAM,cAAc,GAAyB,MAAM,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACpG,OAAO,cAAc,CAAC;aACvB;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,wBAAW,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;aACxD;QACH,CAAC,CAAA,CAAC;QAEK,WAAM,GAAG,GAAkC,EAAE;YAClD,MAAM,IAAI,wBAAW,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IAtBC,CAAC;CAuBL;AA5BD,0DA4BC","sourcesContent":["import { IAccountReadService, IAccountWriteService, ITransactionWriteService } from './interfaces';\r\nimport { CustomError } from '../interfaces';\r\n\r\nimport { TransactionOutputDTO, TransactionInputDTO } from './data-transfer-objects';\r\nimport { ITransactionWriteRepository } from '../repositories/interfaces';\r\n\r\nexport class TransactionWriteService implements ITransactionWriteService {\r\n  constructor(\r\n    private transactionWriteRepository: ITransactionWriteRepository,\r\n    private accountWriteService: IAccountWriteService,\r\n    private accountReadService: IAccountReadService,\r\n  ) {}\r\n\r\n  public create = async ({ userId: id, transfer }: TransactionInputDTO): Promise<TransactionOutputDTO> => {\r\n    try {\r\n      const amount = transfer.amount;\r\n      const userAccounts = await this.accountReadService.getAll(id);\r\n      const account_from = userAccounts.find(({ id }) => transfer.account_from === id);\r\n      if (!account_from) {\r\n        throw new CustomError('VALIDATION_ERROR', ['Could not make transfer']);\r\n      }\r\n      const account_to = await this.accountReadService.getByID(transfer.account_to); //throws\r\n      await this.accountWriteService.updateAccounts(account_from, account_to, amount, id); //throws\r\n\r\n      const newTransaction: TransactionOutputDTO = await this.transactionWriteRepository.create(transfer);\r\n      return newTransaction;\r\n    } catch (error: any) {\r\n      throw new CustomError(error.errorType, error.messages);\r\n    }\r\n  };\r\n\r\n  public update = (): Promise<TransactionOutputDTO> => {\r\n    throw new CustomError('FORBIDDEN_ERROR', ['Forbidden']);\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05e698d668c552809cb5aee293e26aa90f68dd53","contentHash":"f0fcfaec16dcc84ea304ddb95d2dd5ec6fbd5f452f5ceacbf9e4bde3832cf339"}}